C51 COMPILER V9.60.0.0   MAIN                                                              05/06/2021 17:17:18 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE ..\App\main.c LARGE OPTIMIZE(0,SPEED) BROWSE INCDIR(..\App;..\Common;..\
                    -Driver;..\Utilities;..\Mid) DEBUG OBJECTEXTEND PRINT(.\Listings\main.lst) TABS(2) OBJECT(.\Objects\main.obj)

line level    source

   1          /*
   2           * Copyright (c) 2021
   3           * Vitech Solutions
   4           * All Rights Reserved
   5           *
   6           *
   7           * Description:
   8           *
   9           * Author: Truongvv
  10           *
  11           * Last Changed By:  $Author: Truongvv $
  12           * Revision:         $Revision: 1.0 $
  13           * Last Changed:     $Date: x/x/xxxx $
  14           */
  15          #include "N76E003.h"
  16          #include "SFR_Macro.h"
  17          #include "Function_Define.h"
  18          #include "uart.h"
  19          #include "delay.h"
  20          #include "relay.h"
  21          #include "motor.h"
  22          #include "pwm.h"
  23          #include "queue.h"
  24          #include "floor.h"
  25          #include "adc.h"
  26          #include "timer.h"
  27          #include "soft_uart.h"
  28          
  29          
  30          #define SET_LOW2() (clr_P02)
  31          #define SET_HIGH2() (set_P02)
  32          /*******************************************************************************
  33           * Definition
  34           ******************************************************************************/
  35          #define BAUD_1200 (13333)
  36          
  37          uint16_t topLimitFloor = 3583;
  38          uint16_t botLimitFloor = 2;
  39          
  40          /* Command */
  41          #define START_RUN    0x01
  42          #define STOP_RUN     0x02
  43          #define SPEED_UP     0x03
  44          #define SPEED_DOWN   0x04
  45          
  46          //queue
  47          #define QueueSize  6
  48          /*******************************************************************************
  49           * Variable
  50           ******************************************************************************/
  51          
  52          QUEUEx_t CommandQueue;
  53          u8 CommandBuff[QueueSize];
  54          unsigned int currentDuty=DEFAULTDUTY;
C51 COMPILER V9.60.0.0   MAIN                                                              05/06/2021 17:17:18 PAGE 2   

  55          
  56          void handleUart(void)
  57          {
  58   1          static u8 revByte = 0;
  59   1          revByte = UART_RevData();
  60   1          QUEUE_Push(&CommandQueue,&revByte);
  61   1      }
  62          
  63          void main(void)
  64          {
  65   1          uint16_t convert;
  66   1          unsigned char ch = 0;
  67   1          //UART_Init(1200);
  68   1          ENABLE_AllInterrupt();
  69   1          //init_ADC();
  70   1          
  71   1          //floor_UpDown(2);
  72   1          //botLimitFloor = resultConvert();
  73   1          
  74   1          // MOTOR_Config();
  75   1          // delay_ms(1000);
  76   1          // RELAY_Config();
  77   1          // RELAY_AC(1);
  78   1          // delay_ms(1000);
  79   1          // MOTOR_Init(120);
  80   1          //GPIO_SOFT_UART_Init();
  81   1          
  82   1          SOFT_UART_Init(BAUD_1200);
  83   1          SOFT_UART_SendByte(0x12);
  84   1          while(1)
  85   1          {
  86   2              //MOTOR_SetSpeed(120,120);
  87   2              // MOTOR_SetSpeed(120,50);
  88   2              // delay_ms(500);
  89   2              // MOTOR_SetSpeed(50,10);
  90   2              // delay_ms(500);
  91   2              // MOTOR_SetSpeed(10,120);
  92   2              // delay_ms(500);
  93   2              
  94   2              SOFT_UART_SendByte(ch);
  95   2              ch++;
  96   2              // SET_LOW2();
  97   2              //delay_ms(500);
  98   2              // SET_HIGH2();
  99   2              // delay_ms(50);
 100   2          }
 101   1      }
*** WARNING C280 IN LINE 65 OF ..\App\main.c: 'convert': unreferenced local variable


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     83    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =     26    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
